* Weblet, a way to turn your phone into a tablet from the web
** Overview
1. Start the server on the computer
2. Connect to the IP from the phone
3. Receive inputs on the server !

** Technical informations
*** Client
- use the pointer API
*** Server
- use [[https://jasom.github.io/clack-tutorial/posts/getting-started-with-clack/][clack]] for the server
- use [[https://github.com/ruricolist/spinneret][spinneret]] for html generation
- parenscript for JS

** Roadmap
*** Actually do something with it
**** xorg interop
*** Preview on the client ?
*** Websockets or similar ?
*** More security ?

* The xorg mess
This is the code from xdo to move the mouse:   
  #+begin_src c
    int xdo_move_mouse(const xdo_t *xdo, int x, int y, int screen)  {
	int ret = 0;

	/* There is a bug (feature?) in XTestFakeMotionEvent that causes
	 ,* the screen number in the request to be ignored. The internets
	 ,* seem to recommend XWarpPointer instead, ie;
	 ,* https://bugzilla.redhat.com/show_bug.cgi?id=518803
	 ,*/
	Window screen_root = RootWindow(xdo->xdpy, screen);
	ret = XWarpPointer(xdo->xdpy, None, screen_root, 0, 0, 0, 0, x, y);
	XFlush(xdo->xdpy);
	return _is_success("XWarpPointer", ret == 0, xdo);
    }
  #+end_src
